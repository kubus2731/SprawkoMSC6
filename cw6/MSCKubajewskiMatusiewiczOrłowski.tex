\documentclass{article}
\usepackage{graphicx} % Required for inserting images
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{karnaugh-map}
\usepackage[polish]{babel}
\usepackage{subcaption}
\usepackage{float}
\usepackage{enumitem}
\usepackage{url}
\usepackage{array}
\usepackage{indentfirst}
\usepackage{amsmath}
\usepackage{pgfplots}
\pgfplotsset{compat=1.17}
\usepackage{longtable}

\begin{document}

\begin{center}
	% Używamy @{} aby usunąć zewnętrzne marginesy
	% Używamy 'm' (z pakietu 'array') dla środkowania w pionie
	
	\begin{tabular}{@{}|m{0.65\textwidth}|m{0.3\textwidth}|@{}}
		\hline
		% --- PIERWSZY WIERSZ LOGICZNY (wg obrazka) ---
		% Komórka 1,1 (Lewa-góra)
		Wydział Informatyki Politechniki Białostockiej \newline
		Przedmiot: Modułowe systemy cyfrowe
		&
		% Komórka 1,2 (Prawa-góra)
		Data: 10.12.2025 \\ \hline
		
		% --- DRUGI WIERSZ LOGICZNY (wg obrazka) ---
		% Komórka 2,1 (Lewa-środek)
		Zajęcia nr 6 \newline
		Temat: Bloki sekwencyjne-liczniki \newline
		
		& % <-- Separator kolumn dla wiersza 2
		
		% Komórka 2,2 (Prawa-środek)
		
		\\
		
		% --- TRZECI WIERSZ LOGICZNY (wg obrazka) ---
		% Komórka 3,1 (Lewa-dół)
		Grupa: Lab 8 \newline
		Imię i nazwisko: \newline
		Kamil Kubajewski, Jakub Matusiewicz, Bartosz Orłowski
		
		& % <-- Separator kolumn dla wiersza 3
		
		% Komórka 3,2 (Prawa-dół)
		Prowadzący: \newline
		dr hab. inż. Sławomir Zieliński \\ \hline
	\end{tabular}
\end{center}

\section{Cel ćwiczeń}
Zapoznanie z sekwencyjnymi układami cyfrowymi.
\section{Podstawa teoretyczna}

Liczniki to sekwencyjne układy cyfrowe, których głównym zadaniem jest zliczanie impulsów wejściowych oraz przechowywanie wyniku w postaci binarnej. Podstawowym parametrem licznika jest jego pojemność. Licznik o pojemności $P$ nazywany jest licznikiem modulo $P$. Pojemność licznika jest zależna od liczby przerzutników, z których składa się licznik. Liczba przerzutników $n$ potrzebna do zbudowania licznika o pojemności $P$ musi spełniać warunek:
\begin{equation}
 P \le 2^n
\end{equation}

\subsection{Dwójka licząca}
Podstawowym elementem budulcowym liczników jest tzw. „dwójka licząca”, czyli licznik modulo 2. Układ ten zmienia swój stan na przeciwny po każdym aktywnym zboczu sygnału zegarowego.

\begin{itemize}
    \item \textbf{Realizacja na przerzutniku JK:} Polega na podaniu stanu wysokiego („1”) na oba wejścia sterujące ($J$ oraz $K$). Przerzutnik pracuje wówczas w trybie przełączania.
    \item \textbf{Realizacja na przerzutniku D:} Polega na wprowadzeniu pętli sprzężenia zwrotnego – wyjście $\overline{Q}$ (zanegowane) łączy się z wejściem $D$.
\end{itemize}
Dwójka licząca pełni również funkcję dzielnika częstotliwości przez 2, co jest fundamentem budowy liczników wielobitowych.

\subsection{Liczniki asynchroniczne}
W licznikach asynchronicznych szeregowych sygnał zegarowy doprowadzany jest tylko do wejścia pierwszego przerzutnika. Każdy kolejny przerzutnik jest taktowany sygnałem wyjściowym z poprzedniego bloku.

\subsection{Liczniki rewersyjne}
Liczniki mogą pracować w jednym z dwóch trybów zliczania:
\begin{itemize}
    \item \textbf{W górę:} Zwiększają zawartość o 1. W liczniku asynchronicznym zbudowanym na przerzutnikach reagujących na opadające zbocze, wyjście proste $Q$ poprzedniego stopnia steruje wejściem zegarowym następnego.
    \item \textbf{W dół:} Zmniejszają zawartość o 1. Uzyskuje się to poprzez sterowanie kolejnych bloków z wyjść $\overline{Q}$ poprzedników.
\end{itemize}
Licznik rewersyjny łączy te dwie funkcjonalności, umożliwiając zmianę kierunku zliczania za pomocą dodatkowego sygnału sterującego, który decyduje, czy sygnał zegarowy dla następnego przerzutnika pobierany jest z wyjścia $Q$ czy $\overline{Q}$.

\subsection{Liczniki pierścieniowe}
Licznik pierścieniowy jest to sekwencyjny układ cyfrowy pracujący w kodzie „1 z n”. Podczas prawidłowego cyklu działania tylko jeden z bitów może mieć wartość „1”. Liczba stanów cyklu jest równa liczbie przerzutników tworzących układ.

\begin{itemize}
    \item Pracuje on zazwyczaj w kodzie „1 z n”, co oznacza, że w danym momencie tylko jeden przerzutnik jest w stanie wysokim, a ta „jedynka” krąży w pętli w takt impulsów zegarowych.
    \item Wadą tego rozwiązania jest niewykorzystanie pełnej przestrzeni stanów (dla $n$ przerzutników mamy tylko $n$ stanów użytecznych, a nie $2^n$).
    \item Odmianą tego układu jest \textbf{licznik Johnsona}, gdzie sprzężenie zwrotne bierze się z wyjścia zanegowanego ostatniego przerzutnika, co podwaja liczbę stanów ($2n$).
\end{itemize}


\section{Przebieg ćwiczeń}
\subsection{Zadanie 1}
Zaprojektuj i zrealizuj dwójkę liczącą na przerzutniku typu D i JK wykorzystując moduł
laboratoryjny DB11. Zaobserwuj sygnały wyjściowe obu przerzutników.

\subsubsection{Projektowanie układu - analiza wstępna}
Na początku stworzono graf układu licznika.

\begin{figure}[H]
    \centering
    \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3cm,
      thick,main node/.style={circle,draw,font=\sffamily\Large\bfseries}]

      \node[main node] (0) {0};
      \node[main node] (1) [right of=0] {1};

      \path[every node/.style={font=\sffamily\small}]
        (0) edge [bend left] node {} (1)
        (1) edge [bend left] node {} (0);
    \end{tikzpicture}
    \caption{Graf układu licznika modulo 2}
\end{figure}

Na podstawie grafu wyznaczono tabelę przejść i wyjść licznika. $S$ jest bieżącym stanem, następna kolumna reprezentuje stan, do którego przechodzimy, a $Y$ jest wartością wyjścia licznika w stanie $S$.

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|c|}
    \hline
    \textbf{S} & \textbf{Stan nast.} & \textbf{Y} \\ \hline
    0 & 1 & 0 \\ \hline
    1 & 0 & 1 \\ \hline
    \end{tabular}
    \caption{Tabela przejść i wyjść}
\end{table}

W następnym kroku na podstawie powyższej tabeli stworzono zakodowaną tabelę przejść i wyjść. Bit $Q$ koduje stan bieżący, a bit $Q'$ koduje stan następny.

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|c|}
    \hline
    \textbf{Q} & \textbf{Q'} & \textbf{Y} \\ \hline
    0 & 1 & 0 \\ \hline
    1 & 0 & 1 \\ \hline
    \end{tabular}
    \caption{Zakodowana tabela przejść}
\end{table}

Dzięki tej tabeli wyznaczono funkcję wyjścia licznika:
\begin{equation}
    Y_0 = Q
\end{equation}

Kroki projektowania dwójki liczącej na przerzutnikach typu D i JK do tego momentu nie różnią się.

\subsubsection{Realizacja na przerzutniku typu D}
Na początek kontynuujemy projektowanie dwójki liczącej na przerzutniku typu D. Poniżej przedstawiono ogólną tabelę wzbudzeń przerzutnika D:

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|}
    \hline
    \textbf{$Q \rightarrow Q'$} & \textbf{D} \\ \hline
    $0 \rightarrow 0$ & 0 \\ \hline
    $0 \rightarrow 1$ & 1 \\ \hline
    $1 \rightarrow 0$ & 0 \\ \hline
    $1 \rightarrow 1$ & 1 \\ \hline
    \end{tabular}
    \caption{Tabela wzbudzeń przerzutnika D}
\end{table}

Na podstawie zakodowanej tabeli przejść i wyjść oraz tabeli wzbudzeń przerzutnika D wyznaczono tabelę prawdy funkcji wejścia przerzutnika dla naszego licznika:

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|}
    \hline
    \textbf{Q} & \textbf{D} \\ \hline
    0 & 1 \\ \hline
    1 & 0 \\ \hline
    \end{tabular}
    \caption{Tabela funkcji wejścia dla licznika MOD 2 (Typ D)}
\end{table}

Mając wzory wejścia i wyjścia przerzutnika, skonstruowano dwójkę liczącą. Funkcja wejścia przyjmuje postać:
\begin{equation}
    D = Q' = \overline{Q}
\end{equation}

\subsubsection{Realizacja na przerzutniku typu JK}
W kolejnych krokach zostało przedstawione projektowanie dwójki liczącej na przerzutniku typu JK.
Poniżej ogólna tabela wzbudzeń przerzutnika JK:

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|c|}
    \hline
    \textbf{$Q \rightarrow Q'$} & \textbf{J} & \textbf{K} \\ \hline
    $0 \rightarrow 0$ & 0 & - \\ \hline
    $0 \rightarrow 1$ & 1 & - \\ \hline
    $1 \rightarrow 0$ & - & 1 \\ \hline
    $1 \rightarrow 1$ & - & 0 \\ \hline
    \end{tabular}
    \caption{Tabela wzbudzeń przerzutnika JK}
\end{table}

Na podstawie zakodowanej tabeli przejść i wyjść oraz tabeli wzbudzeń przerzutnika JK wyznaczono tabelę prawdy funkcji wejść przerzutnika. Dla przejścia $0 \rightarrow 1$ (gdy $Q=0$) wymagane jest $J=1, K=-$. Dla przejścia $1 \rightarrow 0$ (gdy $Q=1$) wymagane jest $J=-, K=1$.

\begin{table}[H]
    \centering
    \begin{tabular}{|c|c|c|}
    \hline
    \textbf{Q} & \textbf{J} & \textbf{K} \\ \hline
    0 & 1 & - \\ \hline
    1 & - & 1 \\ \hline
    \end{tabular}
    \caption{Tabela funkcji wejść dla licznika MOD 2 (Typ JK)}
\end{table}

Następnie wyznaczono funkcje sterujące przerzutnikiem. Po uwzględnieniu stanów nieokreślonych ("-") jako jedynki logiczne dla uproszczenia układu, otrzymujemy:
\begin{equation}
    J = 1, \quad K = 1
\end{equation}

\subsubsection{Realizacja na przerzutniku typu D}
Przerzutnik typu D przepisuje stan wejścia $D$ na wyjście $Q$ po wystąpieniu aktywnego zbocza zegara. Aby układ działał jako dwójka licząca, należy na wejście podać stan przeciwny do aktualnego. Równanie charakterystyczne licznika MOD 2 dla przerzutnika D przyjmuje postać:
\begin{equation}
    D = \overline{Q_n}
\end{equation}

Poniższa tabela przedstawia zmianę stanu licznika ($Q_n \rightarrow Q_{n+1}$) oraz wymagany stan wejścia $D$.

\begin{table}[h!]
    \centering
    \caption{Tabela przejść i wzbudzeń przerzutnika D}
    \begin{tabular}{|c|c|c|l|}
    \hline
    \textbf{Stan obecny ($Q_n$)} & \textbf{Stan następny ($Q_{n+1}$)} & \textbf{Wymagane $D$} & \textbf{Opis} \\ \hline
    0 & 1 & 1 & Zmiana $0 \rightarrow 1$ (bo $D = \overline{Q}$) \\ \hline
    1 & 0 & 0 & Zmiana $1 \rightarrow 0$ (bo $D = \overline{Q}$) \\ \hline
    \end{tabular}
\end{table}

\subsubsection{Realizacja na przerzutniku typu JK}
Przerzutnik JK jest przerzutnikiem uniwersalnym. Jego działanie zależy od konfiguracji wejść $J$ i $K$. Aby uzyskać zmianę stanu na przeciwny przy każdym takcie zegara (tryb \textbf{Toggle}), czyli $Q_{n+1} = \overline{Q_n}$, należy ustawić oba wejścia w stan wysoki:
\begin{equation}
    J = 1, \quad K = 1
\end{equation}

Tabela przedstawia wymagane stany na wejściach $J$ i $K$, aby uzyskać zmianę stanu wyjścia.

\begin{table}[h!]
    \centering
    \caption{Tabela przejść i wzbudzeń przerzutnika JK}
    \begin{tabular}{|c|c|c|c|c|}
    \hline
    \textbf{Stan ($Q_n$)} & \textbf{Stan nast. ($Q_{n+1}$)} & \textbf{Wymagane $J$} & \textbf{Wymagane $K$} & \textbf{Tryb} \\ \hline
    0 & 1 & 1 & X & Toggle \\ \hline
    1 & 0 & X & 1 & Toggle \\ \hline
    \end{tabular}
    \vspace{0.5em} \\
    \textit{(Gdzie X oznacza stan dowolny. Dla uproszczenia konstrukcji przyjęto $J=1$ i $K=1$ dla obu przypadków).}
\end{table}

\subsubsection{Zrealizowany układ}
Na podstawie powyższych analiz teoretycznych zaprojektowano i zmontowano układ. Schemat połączeń oraz wynik weryfikacji przedstawiono na poniższym rysunku.

\begin{figure}[h!]
    \centering
    \includegraphics[width=0.8\textwidth]{obwod1.PNG}
    \caption{Zrealizowany licznik modulo 2 na przerzutnikach}
    \label{fig:obwod1}
\end{figure}

\subsection{Zadanie 2}
Zaprojektować i wykonać 4-bitowy licznik liczący w górę i w dół (ang. Ripple counter)
wykorzystując moduł laboratoryjny DB14.


\subsubsection{Projekt połączeń – Licznik w górę (UP)}
W celu realizacji zliczania narastającego (0, 1, 2...), zaprojektowano układ, w którym wyjście proste $Q$ poprzedniego przerzutnika steruje wejściem zegarowym $C_P$ następnego przerzutnika.

Zrealizowane połączenia:
\begin{enumerate}
    \item Źródło zegara $\rightarrow$ wejście $C_P$ bitu $Q_0$.
    \item Wyjście $Q_0$ $\rightarrow$ wejście $C_P$ bitu $Q_1$.
    \item Wyjście $Q_1$ $\rightarrow$ wejście $C_P$ bitu $Q_2$.
    \item Wyjście $Q_2$ $\rightarrow$ wejście $C_P$ bitu $Q_3$.
\end{enumerate}

Uzyskane stany wyjść przedstawiono w tabeli poniżej.

\begin{table}[h!]
    \centering
    \caption{Zarejestrowana sekwencja liczenia w górę}
    \begin{tabular}{|c|c|c|c|c|c|}
    \hline
    \textbf{Takt} & \textbf{$Q_3$} & \textbf{$Q_2$} & \textbf{$Q_1$} & \textbf{$Q_0$} & \textbf{Stan (DEC)} \\ \hline
    0 & 0 & 0 & 0 & 0 & 0 \\ \hline
    1 & 0 & 0 & 0 & 1 & 1 \\ \hline
    2 & 0 & 0 & 1 & 0 & 2 \\ \hline
    ... & ... & ... & ... & ... & ... \\ \hline
    15 & 1 & 1 & 1 & 1 & 15 \\ \hline
    \end{tabular}
\end{table}

\subsubsection{Projekt połączeń – Licznik w dół (DOWN)}
W celu realizacji zliczania malejącego (15, 14, 13...), zmodyfikowano projekt, wykorzystując wyjścia zanegowane $\overline{Q}$ do sterowania kolejnymi stopniami licznika.

Zrealizowane połączenia:
\begin{enumerate}
    \item Źródło zegara $\rightarrow$ wejście $C_P$ bitu $Q_0$ (bez zmian).
    \item Wyjście $\overline{Q_0}$ $\rightarrow$ wejście $C_P$ bitu $Q_1$.
    \item Wyjście $\overline{Q_1}$ $\rightarrow$ wejście $C_P$ bitu $Q_2$.
    \item Wyjście $\overline{Q_2}$ $\rightarrow$ wejście $C_P$ bitu $Q_3$.
\end{enumerate}

\subsubsection{Realizacja w środowisku symulacyjnym}
Układ został zaprojektowany i uruchomiony w programie Multisim. Poprawność połączeń zweryfikowano poprzez obserwację stanów na wyświetlaczu szesnastkowym oraz diodach próbników logicznych.

\begin{figure}[h!]
    \centering
    \includegraphics[width=0.9\textwidth]{obwod2.PNG}
    \caption{Realizacja 4-bitowego licznika w Multisim}
    \label{fig:licznik_ripple}
\end{figure}

\subsection{Zadanie 3}
Przebadać działanie 8-bitowego licznika cyklicznego (ang. Ring Counter) wykorzystując
moduł laboratoryjny DB37.

Weryfikacja działania układu polegała na ręcznym sterowaniu sygnałem zegarowym za pomocą przycisku \textbf{S3}. Obserwacja diod LED (\textbf{L1}--\textbf{L8}) pozwoliła potwierdzić poprawność logiczną układu: każde wciśnięcie przycisku powodowało cykliczne przemieszczanie się stanu aktywnego (zapalona dioda) na kolejną pozycję. Po osiągnięciu ostatniego bitu, cykl rozpoczynał się od nowa.

Dodatkowo przetestowano funkcję resetowania za pomocą przycisku \textbf{S1}, którego wciśnięcie powodowało natychmiastowe wyzerowanie licznika (zgaszenie wszystkich diod).
\begin{figure}[h!]
    \centering
    \includegraphics[width=0.9\textwidth]{obwod3.PNG}
    \caption{Realizacja 8-bitowego licznika cyklicznego}
    \label{fig:licznik_ripple}
\end{figure}
\section{Wnioski}
Przeprowadzone ćwiczenia laboratoryjne pozwoliły na praktyczną weryfikację teoretycznych zasad działania układów sekwencyjnych, ze szczególnym uwzględnieniem liczników asynchronicznych. Realizacja dwójki liczącej w pierwszym zadaniu potwierdziła uniwersalność przerzutników typu D oraz JK. Wykazano, że poprzez wprowadzenie pętli sprzężenia zwrotnego w przerzutniku D (połączenie wyjścia zanegowanego-Q’ z wejściem-D) oraz ustawienie przerzutnika JK w tryb przełączania, oba układy poprawnie realizują funkcję dzielnika częstotliwości, generując na wyjściu sygnał o dwukrotnie mniejszej częstotliwości niż sygnał zegarowy.

W trakcie badania 4-bitowego licznika asynchronicznego (Ripple Counter) zaobserwowano zależność kierunku zliczania od sposobu sterowania kolejnych stopni licznika. Zadanie potwierdziło, że sterowanie wejściem zegarowym następnego przerzutnika za pomocą wyjścia prostego poprzednika skutkuje zliczaniem w górę, natomiast wykorzystanie wyjścia zanegowanego powoduje zmianę trybu na zliczanie w dół. Choć konstrukcja ta charakteryzuje się prostotą, należy pamiętać o zjawisku sumowania się czasów propagacji przez kolejne bramki, co jest istotnym ograniczeniem w aplikacjach wymagających dużej szybkości działania.

Ostatnia część ćwiczenia, dotycząca 8-bitowego licznika pierścieniowego, pozwoliła na analizę pracy układu w kodzie „1 z n”. Kluczowym wnioskiem płynącym z tego zadania jest konieczność poprawnej inicjalizacji układu poprzez wpisanie logicznej jedynki do pętli rejestru; bez tego wymuszenia licznik pozostaje w stanie jałowym. Mimo że rozwiązanie to jest mniej ekonomiczne pod względem liczby wykorzystanych przerzutników w stosunku do liczby uzyskiwanych stanów, jego niewątpliwą zaletą jest brak konieczności stosowania dodatkowych dekoderów wyjściowych, co upraszcza strukturę układów sterujących sekwencjami zdarzeń. Wszystkie zrealizowane układy działały zgodnie z założeniami teoretycznymi.



\section{Literatura}
\renewcommand{\refname}{}
\begin{thebibliography}{9}

\end{thebibliography}

\section{Protokół}
\begin{figure}[h]
    \centering
    \includegraphics[width=0.8\textwidth]{protokol.PNG}
    \caption{Protokół}
    \label{fig:moj_obrazek}
\end{figure}


\end{document}
